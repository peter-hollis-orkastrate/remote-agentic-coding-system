# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/remote_coding_agent

# AI Assistants
# Claude - Choose one:
CLAUDE_CODE_OAUTH_TOKEN=sk-ant-oat01-...
# OR
# CLAUDE_API_KEY=sk-ant-...

# Codex Authentication (get from ~/.codex/auth.json after running 'codex login')
# Required if using Codex as AI assistant
# On Linux/Mac: cat ~/.codex/auth.json
# On Windows: type %USERPROFILE%\.codex\auth.json
CODEX_ID_TOKEN=eyJ...
CODEX_ACCESS_TOKEN=eyJ...
CODEX_REFRESH_TOKEN=rt_...
CODEX_ACCOUNT_ID=6a6a7ba6-...

# Default AI Assistant (claude | codex)
# Used for new conversations when no codebase specified
DEFAULT_AI_ASSISTANT=claude

# GitHub Token (for GitHub CLI and commands)
GH_TOKEN=ghp_...
GITHUB_TOKEN=ghp_...  # Same as GH_TOKEN, used by adapter

# GitHub Webhooks
WEBHOOK_SECRET=your_random_secret_string

# Platforms
TELEGRAM_BOT_TOKEN=<from @BotFather>

# Platform Streaming Mode (stream | batch)
TELEGRAM_STREAMING_MODE=stream  # stream (default) | batch
GITHUB_STREAMING_MODE=batch     # batch (default) | stream
JIRA_STREAMING_MODE=batch       # batch (default) | stream
BITBUCKET_STREAMING_MODE=batch  # batch (default) | stream

# Jira Integration (optional)
# Create an API token at https://id.atlassian.com/manage/api-tokens
JIRA_BASE_URL=https://your-domain.atlassian.net
JIRA_EMAIL=your-email@example.com
JIRA_API_TOKEN=your_api_token
JIRA_WEBHOOK_SECRET=your_random_secret_string
JIRA_MENTION=@remote-agent  # The @mention to detect in Jira comments (default: @remote-agent)

# Bitbucket Integration (optional)
# Create an App Password at https://bitbucket.org/account/settings/app-passwords/
# Required permissions: Repositories (Read, Write), Pull requests (Read, Write), Issues (Read, Write)
BITBUCKET_WORKSPACE=your_workspace
BITBUCKET_USERNAME=your_username
BITBUCKET_APP_PASSWORD=your_app_password
BITBUCKET_WEBHOOK_SECRET=your_random_secret_string
BITBUCKET_MENTION=@remote-agent  # The @mention to detect in Bitbucket comments (default: @remote-agent)

# Automated PR Review (optional)
# When enabled, automatically reviews PRs when they are created
# Extracts Jira ticket key from PR title/branch (e.g., ORDEV-123)
# Posts review comments to BOTH Bitbucket PR AND linked Jira ticket
# Requires: JIRA_BASE_URL, JIRA_EMAIL, JIRA_API_TOKEN to be set
BITBUCKET_AUTO_REVIEW=false  # Set to 'true' to enable automatic PR reviews

# Optional
WORKSPACE_PATH=./workspace  # Host path for Docker volume mount (default: ./workspace)
PORT=3000

# Concurrency
MAX_CONCURRENT_CONVERSATIONS=10  # Maximum concurrent AI conversations (default: 10)
